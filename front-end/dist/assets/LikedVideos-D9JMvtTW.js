import{c as j,w as V,r as n,j as e,d as b}from"./index-DkxT9aRy.js";import{V as y}from"./Video-Bml6Dqrq.js";import{A as L}from"./APIError-DDkemChy.js";import{V as x}from"./VideoNotFound-C7fr8lzF.js";import{u as A}from"./HandleLikes-yJ5fqLB_.js";import{S as N}from"./Skeleton-FEsY962x.js";import{u as S}from"./useQuery-Bp_o2pac.js";import{L as E}from"./loader-circle-Qs4vh-bK.js";import"./useMutation-BZsRXO-3.js";import"./utils-km2FGkQ4.js";import"./ellipsis-vertical-CsvTNefm.js";import"./eye-off-DcAYWvFs.js";import"./useBaseQuery-DdyYS34h.js";/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=j("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v=(i,l)=>{let r;switch(l){case"maxViews":r=i.sort((s,a)=>s.views-a.views);break;case"minViews":r=i.sort((s,a)=>a.views-s.views);break;case"high-duration":r=i.sort((s,a)=>s.duration-a.duration);break;case"low-duration":r=i.sort((s,a)=>a.duration-s.duration);break;case"new":r=i.sort((s,a)=>new Date(s.createdAt)-new Date(a.createdAt));break;case"old":r=i.sort((s,a)=>new Date(a.createdAt)-new Date(s.createdAt));break;default:r=i;break}return r},K=()=>{const{handleLikes:i,likeLoading:l}=A(),{userId:r}=V(),[s,a]=n.useState([]),[c,f]=n.useState([]),[d,h]=n.useState("new"),w=async()=>{const t=await b.get(`/api/v1/likes/all-favourate-videos/${r}`);return t==null?void 0:t.data},{data:o,isPending:g,error:k}=S({queryKey:["likedVideos"],queryFn:w,staleTime:5*60*1e3});return n.useEffect(()=>{o!=null&&o.data&&a(o.data)},[o]),n.useEffect(()=>{if(s.length){const t=v(s,d);f(t)}},[s,d]),g?e.jsx(N,{cards:15}):k?e.jsx(L,{}):e.jsxs("div",{className:"min-h-screen w-full px-3 space-y-6 bg-white dark:bg-black",children:[e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsxs("div",{className:"text-2xl flex gap-2 items-center sm:text-3xl py-5 font-mono text-gray-800 dark:text-slate-400 font-semibold",children:[e.jsx(I,{className:"size-8 border-none animate-pulse"}),e.jsx("p",{children:"Favorite Videos :"})]}),e.jsxs("select",{onChange:t=>{h(t.target.value)},value:d,className:"bg-white text-slate-900 dark:bg-slate-800 dark:text-white border border-slate-300 dark:border-slate-800 rounded-md shadow-sm dark:focus:ring-slate-400 transition-colors duration-200 p-1 flex items-center justify-around text-[12px] sm:text-[13px] md:text-[15px]",children:[e.jsx("option",{value:"new",children:"Latest"}),e.jsx("option",{value:"old",children:"Old"}),e.jsx("option",{value:"high-duration",children:"Long Videos"}),e.jsx("option",{value:"low-duration",children:"Short Videos"}),e.jsx("option",{value:"maxViews",children:"Most Viewed"}),e.jsx("option",{value:"minViews",children:"Least Viewed"})]})]}),e.jsx("div",{className:"w-full min-h-auto grid place-items-center",children:s.length>0?e.jsx("ul",{className:"grid w-full gap-2 place-items-center sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.length>0?c.map(t=>{var m,u,p;return e.jsx("div",{className:"border-slate-700 w-full border p-2 rounded-xl relative max-w-[450px]",children:e.jsx(y,{video:t,avatar:(m=t==null?void 0:t.Uploader)==null?void 0:m.avatar,username:(u=t==null?void 0:t.Uploader)==null?void 0:u.username,userId:(p=t==null?void 0:t.Uploader)==null?void 0:p._id,dropMenuBar:[{name:l?e.jsx(E,{className:"animate-spin"}):"Remove video",operation:()=>i({userId:r,videoId:t._id})}]})},t._id)}):e.jsx(x,{})}):e.jsx(x,{})})]})};export{K as default};
