import{n as v,b as N,r as i,k as y,l as k,u as S,a9 as C,j as e,U as E,N as P,aa as L}from"./index-CI7g5s02.js";import{u as q}from"./index.esm-B-5jVXrc.js";import{E as U}from"./eye-Dj7bXo7G.js";import{E as V}from"./eye-off-BqOeApOh.js";import{L as F}from"./loader-circle-DeqSpYPf.js";const D=()=>{var x,b;const p=v(),o=new Date,{toast:d}=N(),[n,h]=i.useState(!1),[r,f]=i.useState(!1),c=y(),{user:t,isPending:a,error:_}=k(l=>l.auth),{register:u,handleSubmit:w,formState:{errors:s},reset:m}=q(),g=S(),j=l=>{h(!0),c(L(l))};return i.useEffect(()=>{t!=null&&t.success&&n&&!a&&(d({title:t==null?void 0:t.message,description:`At ${o.toLocaleTimeString()}`,variant:"default",duration:1e3}),c(C(t==null?void 0:t.data)),p.invalidateQueries({queryKey:["userProfile","dashboard","playVideo","fetchPlaylistVideos","watchlaterVideos","fetchPlaylists","fetchPlaylistVideos","watchHistoryVideos"]}),g(-1),m()),!(t!=null&&t.success)&&n&&!a&&d({title:"something went wrong try with proper Credentials",description:`At ${o.toLocaleTimeString()}`,variant:"destructive",duration:1e3})},[a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:e.jsxs("div",{className:"text-black shadow-[0px_0px_12px_0px_black] dark:text-white border-2 max-w-[470px] mx-5 w-full rounded-xl p-7 bg-white dark:bg-gray-800",children:[e.jsxs("div",{className:"flex w-full justify-between mb-10",children:[e.jsx("h1",{className:"text-2xl font-semibold cursor-pointer animate-pulse",children:"Sign-In"}),e.jsxs("div",{className:"flex gap-2 items-center cursor-pointer",children:[e.jsx("img",{className:"size-6 sm:size-9 rounded-full",src:"https://lh3.googleusercontent.com/rormhrw_yZt2v1OKZBaiFCSt8b8QU02kEKiuilfgnpGkOMQd87xm7b7SyIlGoHsL18M",alt:"Logo"}),e.jsx("p",{className:"text-slate-800 text-lg sm:text-xl font-semibold dark:text-white",children:"Video-Tube"})]})]}),e.jsxs("form",{className:"space-y-7 w-full relative",onSubmit:w(j),method:"post",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"username",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Username",e.jsx(E,{className:`${(x=s==null?void 0:s.username)!=null&&x.message?"text-red-500":"text-green-700"} hover:scale-105 transition-all`})]}),e.jsx("input",{autoComplete:"off",autoFocus:!0,placeholder:"username",type:"text",id:"username",...u("username",{required:"Username is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),s.username&&e.jsx("span",{className:"text-red-500 absolute -bottom-1 left-0 text-xs",children:s.username.message})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"password",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Password:",e.jsx("div",{onClick:()=>f(!r),className:`${(b=s==null?void 0:s.password)!=null&&b.message?"text-red-500":"text-green-700"} size-5 sm:size-7 hover:scale-105 transition-all`,children:r?e.jsx(U,{}):e.jsx(V,{})})]}),e.jsx("input",{type:r?"text":"password",placeholder:"password",id:"password",...u("password",{required:"Password is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),s.password&&e.jsx("span",{className:"text-red-500 absolute -bottom-7 left-0 text-xs",children:s.password.message})]}),e.jsxs("div",{className:"flex gap-3 text-[14px] sm:text-[17px]",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 dark:bg-blue-700 p-1 dark:hover:bg-blue-900 text-white outline-none font-bold rounded w-full",children:a?e.jsx(F,{className:"animate-spin inline-block mr-2"}):"Sign In"}),e.jsx("button",{type:"reset",onClick:()=>m(),className:"bg-red-500 hover:bg-red-700 dark:bg-red-700 p-1 dark:hover:bg-red-900 text-white outline-none font-bold rounded w-full",children:"Reset"})]})]}),e.jsxs("div",{className:"w-full flex justify-center pt-4 gap-4 text-black dark:text-white",children:["Don't have an account?"," ",e.jsx(P,{to:"/signup",className:"text-blue-500 dark:text-blue-300 underline",children:"Create Account"})]})]})})};export{D as default};
