import{m as v,b as N,r as i,g as y,k,u as S,j as e,U as C,N as E,a9 as P}from"./index-DkxT9aRy.js";import{u as L}from"./index.esm-Cjqg4k45.js";import{E as q}from"./eye-DFs_pQ-e.js";import{E as V}from"./eye-off-DcAYWvFs.js";import{L as F}from"./loader-circle-Qs4vh-bK.js";const A=()=>{var m,x;const b=v(),o=new Date,{toast:n}=N(),[d,p]=i.useState(!1),[r,h]=i.useState(!1),f=y(),{user:t,isPending:a,error:U}=k(l=>l.auth),{register:c,handleSubmit:g,formState:{errors:s},reset:u}=L(),w=S(),j=l=>{p(!0),f(P(l))};return i.useEffect(()=>{t!=null&&t.success&&d&&!a&&(n({title:t==null?void 0:t.message,description:`At ${o.toLocaleTimeString()}`,variant:"default",duration:1e3}),b.invalidateQueries({queryKey:["userProfile","dashboard","playVideo","fetchPlaylistVideos","watchlaterVideos","fetchPlaylists","fetchPlaylistVideos","watchHistoryVideos"]}),w(-1),u()),!(t!=null&&t.success)&&d&&!a&&n({title:"something went wrong try with proper Credentials",description:`At ${o.toLocaleTimeString()}`,variant:"destructive",duration:1e3})},[a]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:e.jsxs("div",{className:"text-black shadow-[0px_0px_12px_0px_black] dark:text-white border-2 max-w-[470px] mx-5 w-full rounded-xl p-7 bg-white dark:bg-gray-800",children:[e.jsxs("div",{className:"flex w-full justify-between mb-10",children:[e.jsx("h1",{className:"text-2xl font-semibold cursor-pointer animate-pulse",children:"Sign-In"}),e.jsxs("div",{className:"flex gap-2 items-center cursor-pointer",children:[e.jsx("img",{className:"size-6 sm:size-9 rounded-full",src:"https://lh3.googleusercontent.com/rormhrw_yZt2v1OKZBaiFCSt8b8QU02kEKiuilfgnpGkOMQd87xm7b7SyIlGoHsL18M",alt:"Logo"}),e.jsx("p",{className:"text-slate-800 text-lg sm:text-xl font-semibold dark:text-white",children:"Video-Tube"})]})]}),e.jsxs("form",{className:"space-y-7 w-full relative",onSubmit:g(j),method:"post",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"username",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Username",e.jsx(C,{className:`${(m=s==null?void 0:s.username)!=null&&m.message?"text-red-500":"text-green-700"} hover:scale-105 transition-all`})]}),e.jsx("input",{autoComplete:"off",autoFocus:!0,placeholder:"username",type:"text",id:"username",...c("username",{required:"Username is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),s.username&&e.jsx("span",{className:"text-red-500 absolute -bottom-1 left-0 text-xs",children:s.username.message})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{htmlFor:"password",className:"text-[14px] flex w-full justify-between sm:text-[18px]",children:["Password:",e.jsx("div",{onClick:()=>h(!r),className:`${(x=s==null?void 0:s.password)!=null&&x.message?"text-red-500":"text-green-700"} size-5 sm:size-7 hover:scale-105 transition-all`,children:r?e.jsx(q,{}):e.jsx(V,{})})]}),e.jsx("input",{type:r?"text":"password",placeholder:"password",id:"password",...c("password",{required:"Password is required"}),className:"bg-transparent pl-3 border-b-[2px] mt-2 rounded-xl p-1 outline-none border-blue-700 dark:border-white-500 dark:focus:border-blue-500 w-full"}),s.password&&e.jsx("span",{className:"text-red-500 absolute -bottom-7 left-0 text-xs",children:s.password.message})]}),e.jsxs("div",{className:"flex gap-3 text-[14px] sm:text-[17px]",children:[e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 dark:bg-blue-700 p-1 dark:hover:bg-blue-900 text-white outline-none font-bold rounded w-full",children:a?e.jsx(F,{className:"animate-spin inline-block mr-2"}):"Sign In"}),e.jsx("button",{type:"reset",onClick:()=>u(),className:"bg-red-500 hover:bg-red-700 dark:bg-red-700 p-1 dark:hover:bg-red-900 text-white outline-none font-bold rounded w-full",children:"Reset"})]})]}),e.jsxs("div",{className:"w-full flex justify-center pt-4 gap-4 text-black dark:text-white",children:["Don't have an account?"," ",e.jsx(E,{to:"/signup",className:"text-blue-500 dark:text-blue-300 underline",children:"Create Account"})]})]})})};export{A as default};
