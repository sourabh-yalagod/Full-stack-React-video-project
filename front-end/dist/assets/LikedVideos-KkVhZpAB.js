import{x as k,r as n,j as e,V,e as b}from"./index-BYajJq-C.js";import{V as y}from"./Video-B-pxfDnT.js";import{A as L}from"./APIError-dm_S5W2t.js";import{V as p}from"./VideoNotFound-CDfkjiKb.js";import{u as N}from"./HandleLikes-Zw5P3zHD.js";import{S as A}from"./Skeleton-DdwfL-J8.js";import{u as S}from"./useQuery-Otr_eFC-.js";import{L as E}from"./loader-circle-Bt7u_xSL.js";import"./useMutation-CM6hDA53.js";import"./utils-km2FGkQ4.js";import"./ellipsis-vertical-BTEmWeqs.js";import"./eye-off-CiVK68lk.js";import"./useBaseQuery-DFMWO5mU.js";const I=(i,l)=>{let r;switch(l){case"maxViews":r=i.sort((s,a)=>s.views-a.views);break;case"minViews":r=i.sort((s,a)=>a.views-s.views);break;case"high-duration":r=i.sort((s,a)=>s.duration-a.duration);break;case"low-duration":r=i.sort((s,a)=>a.duration-s.duration);break;case"new":r=i.sort((s,a)=>new Date(s.createdAt)-new Date(a.createdAt));break;case"old":r=i.sort((s,a)=>new Date(a.createdAt)-new Date(s.createdAt));break;default:r=i;break}return r},B=()=>{const{handleLikes:i,likeLoading:l}=N(),{userId:r}=k(),[s,a]=n.useState([]),[c,f]=n.useState([]),[d,h]=n.useState("new"),w=async()=>{const t=await b.get(`/api/v1/likes/all-favourate-videos/${r}`);return t==null?void 0:t.data},{data:o,isPending:g,error:j}=S({queryKey:["likedVideos"],queryFn:w});return n.useEffect(()=>{o!=null&&o.data&&a(o.data)},[o]),n.useEffect(()=>{if(s.length){const t=I(s,d);f(t)}},[s,d]),g?e.jsx(A,{cards:15}):j?e.jsx(L,{}):e.jsxs("div",{className:"min-h-screen w-full px-3 space-y-6 bg-white dark:bg-black",children:[e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsxs("div",{className:"text-2xl flex gap-2 items-center sm:text-3xl py-5 font-mono text-gray-800 dark:text-slate-400 font-semibold",children:[e.jsx(V,{className:"size-8 border-none animate-pulse"}),e.jsx("p",{children:"Favorite Videos :"})]}),e.jsxs("select",{onChange:t=>{h(t.target.value)},value:d,className:"bg-white text-slate-900 dark:bg-slate-800 dark:text-white border border-slate-300 dark:border-slate-800 rounded-md shadow-sm dark:focus:ring-slate-400 transition-colors duration-200 p-1 flex items-center justify-around text-[12px] sm:text-[13px] md:text-[15px]",children:[e.jsx("option",{value:"new",children:"Latest"}),e.jsx("option",{value:"old",children:"Old"}),e.jsx("option",{value:"high-duration",children:"Long Videos"}),e.jsx("option",{value:"low-duration",children:"Short Videos"}),e.jsx("option",{value:"maxViews",children:"Most Viewed"}),e.jsx("option",{value:"minViews",children:"Least Viewed"})]})]}),e.jsx("div",{className:"w-full min-h-auto grid place-items-center",children:s.length>0?e.jsx("ul",{className:"grid w-full gap-2 place-items-center sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.length>0?c.map(t=>{var m,u,x;return e.jsx("div",{className:"border-slate-700 w-full border p-2 rounded-xl relative max-w-[450px]",children:e.jsx(y,{video:t,avatar:(m=t==null?void 0:t.Uploader)==null?void 0:m.avatar,username:(u=t==null?void 0:t.Uploader)==null?void 0:u.username,userId:(x=t==null?void 0:t.Uploader)==null?void 0:x._id,dropMenuBar:[{name:l?e.jsx(E,{className:"animate-spin"}):"Remove video",operation:()=>i({userId:r,videoId:t._id})}]})},t._id)}):e.jsx(p,{})}):e.jsx(p,{})})]})};export{B as default};
